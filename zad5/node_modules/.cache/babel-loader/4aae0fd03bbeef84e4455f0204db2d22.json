{"ast":null,"code":"import _initializerDefineProperty from \"/home/frsh22/mobx/zad5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _defineProperty from \"/home/frsh22/mobx/zad5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _applyDecoratedDescriptor from \"/home/frsh22/mobx/zad5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/home/frsh22/mobx/zad5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2;\n\nimport { observable, action } from \"mobx\";\nlet Shop = (_class = class Shop {\n  constructor() {\n    _defineProperty(this, \"products\", [{\n      id: 1,\n      name: \"Xbox\",\n      description: \"Microsft console\",\n      price: 999\n    }, {\n      id: 2,\n      name: \"PlayStation 5\",\n      description: \"Sony console\",\n      price: 980\n    }, {\n      id: 3,\n      name: \"Xbox pad\",\n      description: \"Xbox accessories\",\n      price: 99\n    }, {\n      id: 4,\n      name: \"PlayStation 5 pad\",\n      description: \"PlayStation accessories\",\n      price: 140\n    }, {\n      id: 5,\n      name: \"MacBook Pro M1\",\n      description: \"Apple accessories\",\n      price: 2500\n    }, {\n      id: 6,\n      name: \"HP Spectre 15\",\n      description: \"HP accessories\",\n      price: 2000\n    }]);\n\n    _initializerDefineProperty(this, \"carts\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"cartOb\", _descriptor2, this);\n  }\n\n  // @action\n  // increaseEl(id) {\n  //   this.carts.map(item => {\n  //     if (item.product_id === id) item.quantity += 1;\n  //     return item;\n  //   });\n  //   this.getCart();\n  // }\n  //\n  //\n  // @action\n  // decreaseEl(id) {\n  //   console.log(id);\n  // }\n  addToCart(id) {\n    let found = false;\n    this.carts.map(item => {\n      if (item.product_id === id) {\n        item.quantity += 1;\n        found = true;\n      }\n\n      return item;\n    });\n\n    if (!found) {\n      this.carts.push({\n        product_id: id,\n        quantity: 1\n      });\n    }\n\n    this.getCart();\n  }\n\n  getCart() {\n    this.carts.map(item => {\n      for (let i in this.products) {\n        if (item.product_id === this.products[i].id) {\n          if (this.cartOb[item.product_id]) {\n            this.cartOb[item.product_id] = {\n              id: item.product_id,\n              name: this.products[i].name,\n              description: this.products[i].description,\n              price: this.products[i].price * item.quantity,\n              quantity: item.quantity\n            };\n          } else {\n            this.cartOb[item.product_id] = {\n              id: item.product_id,\n              name: this.products[i].name,\n              description: this.products[i].description,\n              price: this.products[i].price,\n              quantity: item.quantity\n            };\n          }\n        }\n      }\n\n      return this.cartOb;\n    });\n  }\n\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"carts\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"cartOb\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {};\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"addToCart\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"addToCart\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getCart\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"getCart\"), _class.prototype)), _class);\nexport default new Shop();","map":{"version":3,"sources":["/home/frsh22/mobx/zad5/src/common/shop/Shop.js"],"names":["observable","action","Shop","id","name","description","price","addToCart","found","carts","map","item","product_id","quantity","push","getCart","i","products","cartOb"],"mappings":"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","sourcesContent":["import { observable, action } from \"mobx\";\n\nclass Shop {\n  //mock products\n  products = [\n    {\n      id: 1,\n      name: \"Xbox\",\n      description: \"Microsft console\",\n      price: 999,\n    },\n    {\n      id: 2,\n      name: \"PlayStation 5\",\n      description: \"Sony console\",\n      price: 980,\n    },\n    {\n      id: 3,\n      name: \"Xbox pad\",\n      description: \"Xbox accessories\",\n      price: 99,\n    },\n    {\n      id: 4,\n      name: \"PlayStation 5 pad\",\n      description: \"PlayStation accessories\",\n      price: 140,\n    },\n    {\n      id: 5,\n      name: \"MacBook Pro M1\",\n      description: \"Apple accessories\",\n      price: 2500,\n    },\n    {\n      id: 6,\n      name: \"HP Spectre 15\",\n      description: \"HP accessories\",\n      price: 2000,\n    },\n  ];\n\n  @observable\n  carts = [];\n  @observable\n  cartOb = {};\n\n  // @action\n  // increaseEl(id) {\n  //   this.carts.map(item => {\n  //     if (item.product_id === id) item.quantity += 1;\n  //     return item;\n  //   });\n  //   this.getCart();\n  // }\n  //\n  //\n  // @action\n  // decreaseEl(id) {\n  //   console.log(id);\n  // }\n\n  @action\n  addToCart(id) {\n    let found = false;\n    this.carts.map((item) => {\n      if (item.product_id === id) {\n        item.quantity += 1;\n        found = true;\n      }\n      return item;\n    });\n    if (!found) {\n      this.carts.push({ product_id: id, quantity: 1 });\n    }\n    this.getCart();\n  }\n\n  @action\n  getCart() {\n    this.carts.map((item) => {\n      for (let i in this.products) {\n        if (item.product_id === this.products[i].id) {\n          if (this.cartOb[item.product_id]) {\n            this.cartOb[item.product_id] = {\n              id: item.product_id,\n              name: this.products[i].name,\n              description: this.products[i].description,\n              price: this.products[i].price * item.quantity,\n              quantity: item.quantity\n            };\n          } else {\n            this.cartOb[item.product_id] = {\n              id: item.product_id,\n              name: this.products[i].name,\n              description: this.products[i].description,\n              price: this.products[i].price,\n              quantity: item.quantity\n            };\n          }\n        }\n      }\n      return this.cartOb;\n    });\n  }\n}\n\nexport default new Shop();\n"]},"metadata":{},"sourceType":"module"}